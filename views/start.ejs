<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="../scripts/break-a-thon.js" defer></script>
    <title>Break-a-thon | Start</title>

</head>
<body>
    <header>
        <nav style="padding: 20px" class="navbar navbar-light bg-light">
            <a style="font-size: 1.6rem;" class="navbar-brand mx-auto" href="#">
              Break-a-Thon
            </a>
          </nav>
    </header>

    <form id="team-names">
        <input type="text" id=1 placeholder="Team 1 Name" autocomplete="off" required>
        <input type="text" id=2 placeholder="Team 2 Name" autocomplete="off" required>
        <input type="text" id=3 placeholder="Team 3 Name" autocomplete="off" required>
        <input type="text" id=4 placeholder="Team 4 Name" autocomplete="off" required>
        <input type="submit" value="Start!">
    </form>
    
    <script>
        if (JSON.parse(localStorage.getItem("teams"))) window.location.replace('/round')

        const form = document.getElementById('team-names')
        form.addEventListener('submit', async (e) => {
            e.preventDefault()

            const team1 = document.getElementById('1').value
            const team2 = document.getElementById('2').value
            const team3 = document.getElementById('3').value
            const team4 = document.getElementById('4').value

            localStorage.setItem("teams", JSON.stringify({team1: {name: team1, score: 0}, team2: {name: team2, score: 0}, team3: {name: team3, score: 0}, team4: {name: team4, score: 0}}))
            console.log(JSON.parse(localStorage.getItem("teams")))
            window.location.replace('/round')
        })

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>